<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>JS3-1.제어문 - if문, switch case문, for문, while문</title>
        <!-- JS 코드구역 -->
        <script>
            /****************
                함수명 : jumsu
                기능 : 점수에따른 평가 출력하기
                    1. 점수에 따른 메시지 출력
                    2. 점수에 따른 메시지 글자색 변경
                    3. 점수에 따른 칭찬스티커 보이기
            ****************/
                function jumsu(){
                    /* 함수는 코드를 저장하는 공간임
                        어떤값을 가져오거나 가지고 나갈 수 있음 */

                    /* 1. 함수를 만들고 처음할일은? 호출확인! */
                    // console.log("점수!");
                    
                    /* 2. 대상 선정 */
                    /* 2-1. 점수입력요소 : input#jumsu */
                    var jumsu = document.getElementById("jumsu");
                    /* 2-2. 출력요소 : h3#jexp */
                    var jexp = document.querySelector("#jexp");
                    /* 2-3. 칭찬스티커 #jshow */
                    var jshow = document.querySelector("#jshow");
                    // querySelector(CSS선택자)
                    
                    /* 3. 입력값 읽어오기 */
                    var score = jumsu.value;
                    /* value 속성 - 입력된 값을 읽기/쓰기 */
                    // console.log("입력된 값: "+score);
                    // console.log("데이터형 :"+typeof(score));
                    /* typeof(변수) -> 데이터형을 리턴함 */
                    /* 숫자든 문자든 입력데이터는 string형 즉 문자형 데이터임
                    아래 if문에서 숫자와 비교할 때 데이터형은 문자형이어도 내용이 숫자이면
                    자동 변환하여 처리함. */


                    /************************
                    [ 숫자여부 판별 ]
                    -> is Not a Number? -> isNaN()
                    -> 숫자가 아니니? 판별 내장함수
                    isNaN()
                    숫자가 아니면 true
                    숫자이면 false
                    -> 데이터형이 string 문자형이어도 내용이 숫자이면 숫자로 판별함
                    ************************/

                    /* 입력된 값 score 숫자여부 판별 */
                    console.log("숫자가 아니니? "+isNaN(score));

                    
                    if(score===""){
                        /* 1. 평가에 내용 출력하기 */
                        jexp.innerText = "내용을 입력해주세요";
                        return
                    }
                    if(isNaN(score)){
                        //alert("숫자가 아니니 돌아가!");
                        /* 1. 평가출력에 내용 출력하기 */
                        jexp.innerText = "숫자만 입력해주세요";
                        
                        /* 2. 글자색 초기화 : jexp*/
                        jexp.style.color  = "#000";
                        /* 3. 칭찬스티커 초기화 : jshow*/
                        jshow.style.backgroundPosition = "322px 0";
                        /* 4. 입력창 내용 지우기  : jumsu */
                        jumsu.value = "";
                        /* value속성에 빈 문자값을 넣으면 기존내용 지워짐 */
                        /* 5. 입력랑에 포커스 주기 : jumsu*/
                        jumsu.focus();
                        /* focus()내장함수는 입력창에 포커스를 줌 */

                        /* 함수에서 아래쪽 코드가 실행되지 않도록 함수를 여기에서 빠져나가도록 하는 방법 -> return 키워드를 사용한다. */
                        /* return은 함수에서 어떤 값을 함수를 호출한 곳으로 가져가거나 함수를 끝낼때 사용함.
                            return 어떤값 -> return뒤에 값을 안쓸 수 있음.*/
                        return;
                    }




                    /* 변수 만들기 */
                    var msg; //메시지변수
                    var fc; //글자색변수
                    var bgp; //  배경위치변수

                    /* 4. 메시지 만들기 */
                    /* 점수에 따른 메시지를 if문으로 작성한다 */
                    /* if문의 소괄호 안이 true일때만 실행됨 */
                    /* else if를 사용하면 범위지정이 필요없음 */
                    if(score >= 90){
                        msg = "'매우잘함'";
                        fc = "blue";
                        bgp = "0 0";
                    }else if(score >= 80){
                        msg = "'잘함'";
                        fc = "green";
                        bgp = "-322px 0"
                    }else if(score >= 70){
                        msg = "'보통'";
                        fc = "purple";
                        bgp = "-322px -322px"
                    }else if(score >= 60){
                        msg = "'노력요함'";
                        fc = "orange";
                        bgp = "0 -644px"
                    }else{
                        msg = "'재시험'";
                        fc = "red";
                        bgp = "-644px -644px"
                    }

                    // console.log("글자색: "+fc+"\n배경위치: "+bgp);
                    /* else문을 끝에 사용할 경우 위의 조건에 모두 맞지 않으면 처리하게 됨 */
                    /* else문 때문에 msg는 반드시 할당값을 가지게 됨 */
                    
                    /* if의 조건문에 undefined는 false처리됨 */
                    /* if문 조건문에 일반적으로 선언후 할당된 변수는 true처리됨 */
                    /* 숫자나 일반값을 쓰면 true처리됨 */
                    /* 동등비교연산자를 할당연산자로 사용하면 true처리됨 */
                    /* if(aa=1) -> true처리됨 */

                    /* msg에 할당하지 않고 선언만 한경우 값을 출력시 undefined*(정의되지 않은 값)이 나오는데 이것도 기본값 중 하나임 */
                    /* 5. 화면 출력 : #jexp -> jexp변수*/
                    jexp.innerText = "평과결과는 "+msg;

                    /* 6. 글자색 변경 */
                    jexp.style.color = fc;
                    /* fc는 점수대별 글자색을 할당한 변수 */

                    /* 7. 칭찬스티커 배경위치 변경 : #jshow*/
                    jshow.style.backgroundPosition = bgp;
                    /* bgp는 배경이미지 위치값을 할당한 변수 */

                }///////////////jumsu 함수 ////////////////

                /***********************************************
                    [ if문 ]
                    - 조건문을 검사하여 true이면 중괄호 안의 코드가 실행되는 제어문

                    - 조건문이란 결과가 true / false로 나오는 구문
                    (비교연산자, 논리연산자)

                    ((구문))
                    ________________________________

                    if(조건문){
                        실행코드
                    }else if(조건문){
                        실행코드
                    }
                    ...
                    else{
                        실행코드
                    }
                    _________________________________


                    ((구문해석))
                    1. if문은 단독으로 따로 사용가능
                    2. else if문은 if문 뒤에 또는 else if문 뒤에만 사용 가능(else if로 시작못함)
                        -> 하나의 조건에 걸리면 다른 조건문에는 안들어감
                    3. else문은 모든 조건에 해당없을 떄 무조건 실행할 코드가 있을 경우 사용함.
                        -> if문 가장 끝에 사용함
                        -> 단독으로 else문만 사용불가

                    ※참고 : if문의 실행문이 하나이면 중괄호 생략 가능
                    예)
                        if(aa>10){
                            my = "ㅎㅎㅎ";
                        }
                        == 
                        if(aa>10) my= "ㅎㅎㅎ";
                ***********************************************/
        </script>
        <style>
            #jshow{
                position: absolute;
                top: -12px;
                left: 131px;
                width: 322px;
                height: 322px;
                background: url(./images/ifshow.jpg) no-repeat;
                /* 배경이미지 포지션으로 이미지 변경하기 */
                background-position: 322px 0;
                transform: scale(.3);
                transition: all .4s ease-out;
            }

            /* ir 배경이미지 설명 숨기기 */
            .ir{
                display: block;
                width: 0;
                height: 0;
                overflow: hidden;
            }
        </style>
    </head>
    <body>
        <h1>JS 제어문</h1>
        <hr />
        <!-- if문 연습 -->
        <h2>if문 연습</h2>
        <h3 id="jexp">평가출력</h3>
        <label for="jumsu">점수입력:</label>
        <input type="text" id="jumsu" placeholder="점수를 입력하세요" maxlength="3" onkeypress="if(event.keyCode===13){jumsu()}"/>
        <!-- 
            [ onkeypress속성 ]
            -> 키보드를 치면 발생하는 이벤트 속성
            if조건문
            조건식: event.keyCode === 13
            -> 키보드의 키코드가 13번? 엔터키 눌렀나?
            -> 엔터키의 키코드는 13번
            -> true이면 jamsu() 라는 호출 함수
        -->
        

        <!-- 버튼 클릭시 클릭 이벤트 속성과 미리 만든 함수를 연결 -->
        <button class="sbtn" onclick="jumsu()">평가하기</button>

        <!--
        [ label요소 ]
        - input요소의 설명라벨요소
        - for속성: 클릭시 아이디 input요소로 포커스 이동

        [ input요소 : 입력요소 ]
        - type = "text" -> 글자 입력창
        - placeholder -> 안내문구 출력
        - maxlength -> 최대 입력 글자수 제한
        -->


        <!-- 칭찬스티커 -->
        <div id="jshow">
            <span class="ir">칭찬스티커</span>
        </div>
    </body>
</html>
