<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>JS실험실 1: 따라다니는 원</title>
    <style>
        /**************************************** 
            [ CSS에서 변수 사용하기 ]
            1. 변수 셋팅법
            :root{
                --변수명1: 값1;
                --변수명2: 값2;
                --변수명3: 값3;
            }
            2. 변수 호출 사용법
            var(--변수명)
            ->>> 변수는 언제 사용하나?
            - 같은 값이 여러부분에서 사용될때
            미디어쿼리 등에서 변경이 필요한 경우
            변수값만 변경하면 복잡한 값변경이 대체됨!
        ****************************************/
            /* CSS변수처리 */
            :root{
                --msz: 50px;
            }

        html, body{
            margin: 0;
            padding: 0;
        }
        body{
            width: 100vw;
            height: 100vh;
        }
        .mover{
            position: fixed;
            z-index: 1;
            /* [z-index 무버에 주는기준] 
                -> 오버시 위에 와야하므로 가장 높게준 z-index보다 크게 준다(맨 아래 코딩했으므로 같아도 위에 올 수 있다.)
                무버와 z-index로 위치관계 비교를 내부의 요소와 하려면 부모박스에 z-index를 주지 않아야 할 수 있다.
            */
            width: var(--msz);
            height: var(--msz);
            border-radius: 50%;
            background-color: #f00;

            /* 
            [ 겹치는 색상처리 블렌딩 모드 속성 ]
            겹쳐지는 요소의 색상을 섞어서 디스레레이해주는 처리속성
            - 밝은색 섞기(screen계열)
            - 어두운색 섞기(darken계열)
            */
            mix-blend-mode: exclusion;


            /* 트랜지션 - 이징을 반드시 ease-out을 준다: 따라다니는 반응이 시작할 때 바로 움직여야함 */
            transition: .3s ease-out;
        }

        .cont{
            position: relative;
            display: flex;
        }
        .cont>div{
            position: relative;
            flex: 1;
            text-align: center;
        }
        .cont>div>img{
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .cont>div>a{
            position: absolute;
            /* 무버보다 위에 오도록 z-index주기 */
            /* a요소는 포션션이 없으면 z-index가 적용안됨
            만약 포지션이 없다면 relative라도 주도록 한다
            무버의 z-index이 1이므로 그것보다 크게함
             */
            z-index: 2;
            bottom: 10%;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;

            color: #fff;
            text-decoration: none;
            font-size: 20px;
            font-weight: bold;
            text-shadow: 0 0 5px #000;
        }
        
        .cont>div>a:hover{
            color: #f00;
        }
    </style>
    <!-- ⁡⁢⁣⁢######################JS 코딩구역######################⁡ -->
    <script>




        window.addEventListener("load", function(){
            console.log("로딩완료");

            /* 움직일 대상: 돌아다니는 원 .mover */
            var mover = document.querySelector(".mover");

            /* 무버 크기의 절반 계산하기*/
            var gap = mover.clientWidth/2;
            console.log('gap: ', gap);

            /* [ 자바스크립트 요소의 크기 구하기 ] */
            /* 가로크기: 요소.clientWidth */
            /* 세로크기: 요소.cklientHeight */


            /* 이벤트 대상: body */
            /* 이벤트 종류: mousemove - 마우스가 대상위에서 움직일 때 발생 */
            document.body.onmousemove = function(){
                /* 마우스 포인터 위치 알아내기 */
                /* X좌표: event.pageX */
                /* Y좌표: event.pageY */
                // console.log('X좌표: ', event.pageX, "\nY좌표: ", event.pageY);

                /* 위치값 보정 */
                var posx = event.pageX-gap;
                var posy = event.pageY-gap;


                /* mover에게 위치값 이동 세팅하기 (mover 중앙위치 고정)*/
                mover.style.top = posy+"px";
                mover.style.left = posx+"px";

            }//⁡⁢⁣⁢################ mousemove 이벤트함수 ###########################⁡

            /* a요소 오버시 무버크게 하기 */
             /* 대상: .cont a -> .pt */
            var pt = document.querySelectorAll(".pt");
            // console.log('pt: ', pt);

            /* for문으로 모든 a요소에 이벤트 설정하기 */
            for(var i = 0; i<pt.length; i++){
                /* 마우스 오버시 - mouseenter */
                pt[i].onmouseenter = function(){
                    /* 무버가 커지게 함 */
                    mover.style.transform = "scale(2)";
                };//⁡⁢⁣⁢########### mouseenter 이벤트함수 #############⁡

                /* 마우스 아웃시 - mouseleave */
                pt[i].onmouseleave = function(){
                    /* 떠날 때는 무버가 원래크기로 변경 */
                    mover.style.transform = "scale(1)";
                };//⁡⁢⁣⁢########### mouseleave 이벤트함수 ##############⁡

            }//⁡⁢⁣⁢######## for 문 ############⁡
            
            /*************************************
                [ 마우스 오버/아웃 이벤트 ]
                1. 오버시 이벤트
                1) mouseover -> 요소위에 올라갈 때 발생
                2) mouseenter -> 요소의 경계선 안으로 들어갈 때 발생

                2. 아웃시 이벤트
                1) mouseout -> 요소에서 벗어날 때 발생
                2) mouseleave -> 요소의 경계선 밖으로 나갈 때 발생
            *************************************/


        });//⁡⁢⁣⁢########################## 로드구역 ##############################⁡
    </script>
</head>
<body>
    <section class="cont">
        <div>
            <img src="../images/dress/1.jpg" alt="dress">
            <a href="#" class="pt">This is Ur New Dress!</a>
        </div>
        <div>
            <img src="../images/dress/2.jpg" alt="dress">
            <a href="#" class="pt">This is Ur New Dress!</a>
        </div>
        <div>
            <img src="../images/dress/3.jpg" alt="dress">
            <a href="#" class="pt">This is Ur New Dress!</a>
        </div>
        <div>
            <img src="../images/dress/4.jpg" alt="dress">
            <a href="#" class="pt">This is Ur New Dress!</a>
        </div>
    </section>
    <!-- 돌아다니는 원 -->
    <div class="mover"></div>
</body>
</html>